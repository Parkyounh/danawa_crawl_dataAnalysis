(function(){"use strict";var e={8743:function(e,a,t){var n=t(3751),l=t(641),r=t(953),o=t(4335),i=(t(4114),t(33));const c={class:"product-list-container"},s={class:"list-header"},u={class:"search-bar"},d={class:"button-group"},p={class:"category-tabs"},v=["onClick"],k={class:"product-grid"},g={class:"card-header"},y={class:"product-code"},f=["onClick"],b={class:"image-wrapper"},h=["src"],m={class:"product-info"},L={class:"category-tag"},C={class:"name"},w={class:"price-row"},_={class:"price"},E={key:0},X={key:1},K={key:0,class:"no-data"},O=35;var R={__name:"ProductList",props:["initialCategory"],emits:["view-detail","update-category"],setup(e,{emit:a}){const t=e,R=a,j=(0,r.KR)([]),A=(0,r.KR)(""),I=(0,r.KR)(t.initialCategory||"데스크탑"),S=(0,r.KR)(!1),x=(0,r.KR)(0),B=(0,r.KR)(!1),D=(0,r.KR)(!1),H=(0,r.KR)(null);let P=null;const Q=[{id:"데스크탑",name:"데스크탑"},{id:"소파",name:"소파"},{id:"패딩",name:"패딩"},{id:"신발",name:"신발"}],F=()=>{j.value=[],x.value=0,D.value=!1,U()},T=e=>{I.value=e,R("update-category",e),F()},$=()=>{S.value=!S.value,F()},U=async()=>{if(B.value||D.value)return;B.value=!0;const e=S.value?"http://localhost:8083/api/new/product":"http://localhost:8083/api/product";try{const a=await o.A.get(e,{params:{page:x.value,size:O,category:I.value,query:A.value}}),t=a.data;t.length<O&&(D.value=!0),j.value.push(...t),x.value++}catch(a){console.error("Fetch error:",a)}finally{B.value=!1}};return(0,l.wB)(A,()=>{F()}),(0,l.sV)(()=>{U(),P=new IntersectionObserver(e=>{e[0].isIntersecting&&!B.value&&U()},{threshold:.1}),H.value&&P.observe(H.value)}),(0,l.hi)(()=>{P&&P.disconnect()}),(e,a)=>((0,l.uX)(),(0,l.CE)("div",c,[(0,l.Lk)("header",s,[(0,l.Lk)("div",u,[(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>A.value=e),onKeyup:(0,n.jR)(F,["enter"]),placeholder:"상품명을 입력하세요"},null,544),[[n.Jo,A.value]])]),(0,l.Lk)("div",d,[(0,l.Lk)("button",{class:(0,i.C4)(["action-btn",S.value?"new-db-btn":"old-db-btn"]),onClick:$},(0,i.v_)(S.value?"신규 DB 데이터":"기존 DB 데이터"),3)])]),(0,l.Lk)("nav",p,[((0,l.uX)(),(0,l.CE)(l.FK,null,(0,l.pI)(Q,e=>(0,l.Lk)("button",{key:e.id,class:(0,i.C4)(["tab-btn",{active:I.value===e.id}]),onClick:a=>T(e.id)},(0,i.v_)(e.name),11,v)),64))]),(0,l.Lk)("section",k,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(j.value,t=>((0,l.uX)(),(0,l.CE)("div",{key:t.id,class:"product-card"},[(0,l.Lk)("div",g,[(0,l.Lk)("span",y,(0,i.v_)(t.productCode),1)]),(0,l.Lk)("div",{class:"clickable-area",onClick:a=>e.$emit("view-detail",t.productCode,S.value)},[(0,l.Lk)("div",b,[(0,l.Lk)("img",{src:t.imageUrl,onError:a[1]||(a[1]=e=>e.target.src="/placeholder.png"),alt:"상품 이미지"},null,40,h)]),(0,l.Lk)("div",m,[(0,l.Lk)("div",L,(0,i.v_)(t.category),1),(0,l.Lk)("h3",C,(0,i.v_)(t.name),1),(0,l.Lk)("div",w,[(0,l.Lk)("span",_,(0,i.v_)(t.price?.toLocaleString())+"원",1)])])],8,f)]))),128)),(0,l.Lk)("div",{ref_key:"loadMoreTrigger",ref:H,class:"loading-trigger"},[B.value?((0,l.uX)(),(0,l.CE)("span",E,"데이터를 불러오는 중입니다...")):D.value&&j.value.length>0?((0,l.uX)(),(0,l.CE)("span",X,"모든 상품을 불러왔습니다.")):(0,l.Q3)("",!0)],512),0!==j.value.length||B.value?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("div",K," 조회된 상품이 없습니다. "))])]))}},j=t(6262);const A=(0,j.A)(R,[["__scopeId","data-v-8125e286"]]);var I=A,S=(t(8111),t(1701),t(4736));const x={class:"detail-wrapper"},B={class:"detail-header"},D={key:0,class:"content-container"},H={class:"left-panel"},P={class:"image-box"},Q=["src"],F={class:"right-panel"},T={class:"product-name"},$={class:"product-code"},U={key:0,class:"spec-section"},V={class:"spec-grid"},M={class:"spec-key"},W={class:"spec-val"},q={key:1,class:"chart-section"};var z={__name:"ProductDetail",props:["data"],emits:["go-back"],setup(e,{emit:a}){const t=e;return(0,l.sV)(async()=>{if(!t.data||!t.data.priceHistory||0===t.data.priceHistory.length)return;await(0,l.dY)();const e=document.getElementById("priceChart");if(!e)return;const a=e.getContext("2d"),n=[...t.data.priceHistory].sort((e,a)=>new Date(e.date)-new Date(a.date)),r=n.map(e=>e.date),o=n.map(e=>e.price);new S.Ay(a,{type:"line",data:{labels:r,datasets:[{label:"최저가 추이 (원)",data:o,borderColor:"#42b983",backgroundColor:"rgba(66, 185, 131, 0.1)",fill:!0,tension:.3,pointRadius:4,pointHoverRadius:6,pointBackgroundColor:"#42b983"}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{padding:10,callbacks:{label:e=>` ${e.parsed.y.toLocaleString()}원`}}},scales:{y:{beginAtZero:!1,ticks:{callback:e=>e.toLocaleString()+"원"}}}}})}),(a,t)=>((0,l.uX)(),(0,l.CE)("div",x,[(0,l.Lk)("header",B,[(0,l.Lk)("button",{onClick:t[0]||(t[0]=e=>a.$emit("go-back")),class:"back-btn"},"← 목록으로 돌아가기")]),e.data?((0,l.uX)(),(0,l.CE)("div",D,[(0,l.Lk)("div",H,[t[2]||(t[2]=(0,l.Lk)("h2",{class:"title"},"상품 상세 정보",-1)),(0,l.Lk)("div",P,[(0,l.Lk)("img",{src:e.data.imageUrl,onError:t[1]||(t[1]=e=>e.target.src="/placeholder.png")},null,40,Q)])]),(0,l.Lk)("div",F,[(0,l.Lk)("h1",T,(0,i.v_)(e.data.name),1),(0,l.Lk)("p",$,"상품코드: "+(0,i.v_)(e.data.productCode),1),e.data.specifications&&Object.keys(e.data.specifications).length>0?((0,l.uX)(),(0,l.CE)("div",U,[t[3]||(t[3]=(0,l.Lk)("h3",null,"상세 스펙",-1)),(0,l.Lk)("div",V,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.data.specifications,(e,a)=>((0,l.uX)(),(0,l.CE)("div",{key:a,class:"spec-item"},[(0,l.Lk)("span",M,(0,i.v_)(a),1),(0,l.Lk)("span",W,(0,i.v_)(e),1)]))),128))])])):(0,l.Q3)("",!0),e.data.priceHistory&&e.data.priceHistory.length>0?((0,l.uX)(),(0,l.CE)("div",q,[...t[4]||(t[4]=[(0,l.Lk)("h3",null,"가격 변동 그래프",-1),(0,l.Lk)("div",{class:"canvas-holder"},[(0,l.Lk)("canvas",{id:"priceChart"})],-1)])])):(0,l.Q3)("",!0)])])):(0,l.Q3)("",!0)]))}};const G=(0,j.A)(z,[["__scopeId","data-v-c60e0616"]]);var J=G;const Y={class:"app"};var Z={__name:"App",setup(e){const a=(0,r.KR)("list"),t=(0,r.KR)(null),n=(0,r.KR)("데스크탑"),i=async(e,n)=>{const l=n?"/api/new/product":"/api/product",r=await o.A.get(`http://localhost:8083${l}/${e}`);t.value=r.data,a.value="detail"};return(e,r)=>((0,l.uX)(),(0,l.CE)("div",Y,["list"===a.value?((0,l.uX)(),(0,l.Wv)(I,{key:0,initialCategory:n.value,onViewDetail:i,onUpdateCategory:r[0]||(r[0]=e=>n.value=e)},null,8,["initialCategory"])):"detail"===a.value&&t.value?((0,l.uX)(),(0,l.Wv)(J,{key:1,data:t.value,onGoBack:r[1]||(r[1]=e=>a.value="list")},null,8,["data"])):(0,l.Q3)("",!0)]))}};const N=Z;var ee=N;(0,n.Ef)(ee).mount("#app")}},a={};function t(n){var l=a[n];if(void 0!==l)return l.exports;var r=a[n]={exports:{}};return e[n].call(r.exports,r,r.exports,t),r.exports}t.m=e,function(){var e=[];t.O=function(a,n,l,r){if(!n){var o=1/0;for(u=0;u<e.length;u++){n=e[u][0],l=e[u][1],r=e[u][2];for(var i=!0,c=0;c<n.length;c++)(!1&r||o>=r)&&Object.keys(t.O).every(function(e){return t.O[e](n[c])})?n.splice(c--,1):(i=!1,r<o&&(o=r));if(i){e.splice(u--,1);var s=l();void 0!==s&&(a=s)}}return a}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[n,l,r]}}(),function(){t.d=function(e,a){for(var n in a)t.o(a,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:a[n]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};t.O.j=function(a){return 0===e[a]};var a=function(a,n){var l,r,o=n[0],i=n[1],c=n[2],s=0;if(o.some(function(a){return 0!==e[a]})){for(l in i)t.o(i,l)&&(t.m[l]=i[l]);if(c)var u=c(t)}for(a&&a(n);s<o.length;s++)r=o[s],t.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return t.O(u)},n=self["webpackChunkvue_test"]=self["webpackChunkvue_test"]||[];n.forEach(a.bind(null,0)),n.push=a.bind(null,n.push.bind(n))}();var n=t.O(void 0,[504],function(){return t(8743)});n=t.O(n)})();
//# sourceMappingURL=app.a46acadc.js.map