(function(){"use strict";var e={7252:function(e,a,t){var l=t(3751),n=t(641),s=t(953),o=t(4335),r=(t(4114),t(33));const c={class:"product-list-container"},i={class:"list-header"},u={class:"search-bar"},d={class:"button-group"},v=["disabled"],p={class:"category-tabs"},k=["onClick"],g={class:"product-grid"},b={class:"card-header"},f=["value","disabled"],h={class:"product-code"},y=["onClick"],m={class:"image-wrapper"},L=["src"],C={class:"product-info"},_={class:"category-tag"},w={class:"name"},E={class:"price-row"},X={class:"price"},K={key:0},O={key:1},R={key:0,class:"no-data"},I=35;var j={__name:"ProductList",emits:["view-detail"],setup(e,{emit:a}){const t=(0,s.KR)([]),j=(0,s.KR)(""),A=(0,s.KR)("데스크탑"),x=(0,s.KR)([]),S=(0,s.KR)(0),V=(0,s.KR)(!1),P=(0,s.KR)(!1),Q=(0,s.KR)(null);let $=null;const F=[{id:"데스크탑",name:"데스크탑"},{id:"소파",name:"소파"},{id:"패딩",name:"패딩"},{id:"신발",name:"신발"}];(0,n.sV)(()=>{D(),$=new IntersectionObserver(e=>{e[0].isIntersecting&&!V.value&&D()},{threshold:.1}),Q.value&&$.observe(Q.value)});const T=()=>{t.value=[],S.value=0,P.value=!1,D()},B=e=>{A.value=e,T()},D=async()=>{if(!V.value&&!P.value){V.value=!0;try{const e=await o.A.get("http://localhost:8083/api/product",{params:{page:S.value,size:I,category:A.value,query:j.value}}),a=e.data;a.length<I&&(P.value=!0),t.value.push(...a),S.value++}catch(e){console.error("Fetch error:",e)}finally{V.value=!1}}};return(0,n.wB)(j,()=>{T()}),(0,n.sV)(()=>{$=new IntersectionObserver(e=>{e[0].isIntersecting&&!V.value&&D()},{threshold:.1}),Q.value&&$.observe(Q.value)}),(0,n.hi)(()=>{$&&$.disconnect()}),(e,a)=>((0,n.uX)(),(0,n.CE)("div",c,[(0,n.Lk)("header",i,[(0,n.Lk)("div",u,[(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>j.value=e),onKeyup:(0,l.jR)(T,["enter"]),placeholder:"상품명을 입력하세요"},null,544),[[l.Jo,j.value]])]),(0,n.Lk)("div",d,[(0,n.Lk)("button",{class:"action-btn similarity",disabled:1!==x.value.length}," 유사 이미지 검색 ("+(0,r.v_)(x.value.length)+"/1) ",9,v)])]),(0,n.Lk)("nav",p,[((0,n.uX)(),(0,n.CE)(n.FK,null,(0,n.pI)(F,e=>(0,n.Lk)("button",{key:e.id,class:(0,r.C4)(["tab-btn",{active:A.value===e.id}]),onClick:a=>B(e.id)},(0,r.v_)(e.name),11,k)),64))]),(0,n.Lk)("section",g,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(t.value,t=>((0,n.uX)(),(0,n.CE)("div",{key:t.id,class:"product-card"},[(0,n.Lk)("div",b,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox",value:t.productCode,"onUpdate:modelValue":a[1]||(a[1]=e=>x.value=e),disabled:x.value.length>=2&&!x.value.includes(t.productCode)},null,8,f),[[l.lH,x.value]]),(0,n.Lk)("span",h,(0,r.v_)(t.productCode),1)]),(0,n.Lk)("div",{class:"clickable-area",onClick:a=>e.$emit("view-detail",t.productCode)},[(0,n.Lk)("div",m,[(0,n.Lk)("img",{src:t.imageUrl,onError:a[2]||(a[2]=e=>e.target.src="/placeholder.png"),alt:"상품 이미지"},null,40,L)]),(0,n.Lk)("div",C,[(0,n.Lk)("div",_,(0,r.v_)(t.category),1),(0,n.Lk)("h3",w,(0,r.v_)(t.name),1),(0,n.Lk)("div",E,[(0,n.Lk)("span",X,(0,r.v_)(t.price?.toLocaleString())+"원",1)])])],8,y)]))),128)),(0,n.Lk)("div",{ref_key:"loadMoreTrigger",ref:Q,class:"loading-trigger"},[V.value?((0,n.uX)(),(0,n.CE)("span",K,"데이터를 불러오는 중입니다...")):P.value&&t.value.length>0?((0,n.uX)(),(0,n.CE)("span",O,"모든 상품을 불러왔습니다.")):(0,n.Q3)("",!0)],512),0!==t.value.length||V.value?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("div",R," 조회된 상품이 없습니다. "))])]))}},A=t(6262);const x=(0,A.A)(j,[["__scopeId","data-v-20fa7257"]]);var S=x,V=(t(8111),t(1701),t(4736));const P={class:"detail-wrapper"},Q={class:"detail-header"},$={key:0,class:"content-container"},F={class:"left-panel"},T={key:0,class:"title"},B={class:"image-box"},D=["src"],H={class:"right-panel"},M={class:"product-name"},U={class:"product-code"},W={key:0,class:"spec-section"},q={class:"spec-grid"},z={class:"spec-key"},G={class:"spec-val"};var J={__name:"ProductDetail",props:["data"],emits:["go-back"],setup(e,{emit:a}){const t=e;return(0,n.sV)(async()=>{if(!t.data||!t.data.priceHistory)return;await(0,n.dY)();const e=document.getElementById("priceChart");if(!e)return;const a=e.getContext("2d"),l=[...t.data.priceHistory].sort((e,a)=>new Date(e.date)-new Date(a.date)),s=l.map(e=>e.date),o=l.map(e=>e.price);new V.Ay(a,{type:"line",data:{labels:s,datasets:[{label:"최저가 추이 (원)",data:o,borderColor:"#42b983",backgroundColor:"rgba(66, 185, 131, 0.1)",fill:!0,tension:.3,pointRadius:4,pointHoverRadius:6,pointBackgroundColor:"#42b983"}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{padding:10,callbacks:{label:e=>` ${e.parsed.y.toLocaleString()}원`}}},scales:{y:{beginAtZero:!1,ticks:{callback:e=>e.toLocaleString()+"원"}}}}})}),(a,t)=>((0,n.uX)(),(0,n.CE)("div",P,[(0,n.Lk)("header",Q,[(0,n.Lk)("button",{onClick:t[0]||(t[0]=e=>a.$emit("go-back")),class:"back-btn"},"← 목록으로 돌아가기")]),e.data?((0,n.uX)(),(0,n.CE)("div",$,[(0,n.Lk)("div",F,[e.data?((0,n.uX)(),(0,n.CE)("h2",T,"상품 상세 정보")):(0,n.Q3)("",!0),(0,n.Lk)("div",B,[(0,n.Lk)("img",{src:`http://localhost:8083/danawa_db_image/${e.data.categoryId}/${e.data.productCode}.jpg`},null,8,D)])]),(0,n.Lk)("div",H,[(0,n.Lk)("h1",M,(0,r.v_)(e.data.name),1),(0,n.Lk)("p",U,"상품코드: "+(0,r.v_)(e.data.productCode),1),e.data.specifications?((0,n.uX)(),(0,n.CE)("div",W,[t[1]||(t[1]=(0,n.Lk)("h3",null,"상세 스펙",-1)),(0,n.Lk)("div",q,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.data.specifications,(e,a)=>((0,n.uX)(),(0,n.CE)("div",{key:a,class:"spec-item"},[(0,n.Lk)("span",z,(0,r.v_)(a),1),(0,n.Lk)("span",G,(0,r.v_)(e),1)]))),128))])])):(0,n.Q3)("",!0),t[2]||(t[2]=(0,n.Lk)("div",{class:"chart-section"},[(0,n.Lk)("h3",null,"가격 변동 그래프"),(0,n.Lk)("div",{class:"canvas-holder"},[(0,n.Lk)("canvas",{id:"priceChart"})])],-1))])])):(0,n.Q3)("",!0)]))}};const Y=(0,A.A)(J,[["__scopeId","data-v-47d5d2d8"]]);var Z=Y;const N={class:"app"};var ee={__name:"App",setup(e){const a=(0,s.KR)("list"),t=(0,s.KR)([]),l=(0,s.KR)(null),r=async e=>{const t=await o.A.get(`/api/product/${e}`);l.value=t.data,a.value="detail"};return(0,n.sV)(async()=>{const e=await o.A.get("/api/product");t.value=e.data}),(e,s)=>((0,n.uX)(),(0,n.CE)("div",N,["list"===a.value?((0,n.uX)(),(0,n.Wv)(S,{key:0,products:t.value,onViewDetail:r},null,8,["products"])):"detail"===a.value&&l.value?((0,n.uX)(),(0,n.Wv)(Z,{key:1,data:l.value,onGoBack:s[0]||(s[0]=e=>a.value="list")},null,8,["data"])):(0,n.Q3)("",!0)]))}};const ae=ee;var te=ae;(0,l.Ef)(te).mount("#app")}},a={};function t(l){var n=a[l];if(void 0!==n)return n.exports;var s=a[l]={exports:{}};return e[l].call(s.exports,s,s.exports,t),s.exports}t.m=e,function(){var e=[];t.O=function(a,l,n,s){if(!l){var o=1/0;for(u=0;u<e.length;u++){l=e[u][0],n=e[u][1],s=e[u][2];for(var r=!0,c=0;c<l.length;c++)(!1&s||o>=s)&&Object.keys(t.O).every(function(e){return t.O[e](l[c])})?l.splice(c--,1):(r=!1,s<o&&(o=s));if(r){e.splice(u--,1);var i=n();void 0!==i&&(a=i)}}return a}s=s||0;for(var u=e.length;u>0&&e[u-1][2]>s;u--)e[u]=e[u-1];e[u]=[l,n,s]}}(),function(){t.d=function(e,a){for(var l in a)t.o(a,l)&&!t.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:a[l]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};t.O.j=function(a){return 0===e[a]};var a=function(a,l){var n,s,o=l[0],r=l[1],c=l[2],i=0;if(o.some(function(a){return 0!==e[a]})){for(n in r)t.o(r,n)&&(t.m[n]=r[n]);if(c)var u=c(t)}for(a&&a(l);i<o.length;i++)s=o[i],t.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return t.O(u)},l=self["webpackChunkvue_test"]=self["webpackChunkvue_test"]||[];l.forEach(a.bind(null,0)),l.push=a.bind(null,l.push.bind(l))}();var l=t.O(void 0,[504],function(){return t(7252)});l=t.O(l)})();
//# sourceMappingURL=app.8075ab13.js.map